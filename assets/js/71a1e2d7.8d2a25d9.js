"use strict";(self.webpackChunkVRChat_Creator_Docs=self.webpackChunkVRChat_Creator_Docs||[]).push([[343],{26174:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"worlds/udon/input-events","title":"Input Events","description":"You can read the input of a player\'s controller in a unified way across all platforms by using Udon Input Events. These events will work correctly even when the player has remapped their controls.","source":"@site/docs/worlds/udon/input-events.md","sourceDirName":"worlds/udon","slug":"/worlds/udon/input-events","permalink":"/creator-docs_ja/worlds/udon/input-events","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1721687052000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Image Loading","permalink":"/creator-docs_ja/worlds/udon/image-loading"},"next":{"title":"Midi in Udon","permalink":"/creator-docs_ja/worlds/udon/midi/"}}');var o=t(74848),s=t(28453);const r={},l="Input Events",d={},c=[{value:"Button Events",id:"button-events",level:2},{value:"InputJump",id:"inputjump",level:3},{value:"InputUse",id:"inputuse",level:3},{value:"InputGrab",id:"inputgrab",level:3},{value:"InputDrop",id:"inputdrop",level:3},{value:"Axis Events",id:"axis-events",level:2},{value:"InputMoveHorizontal",id:"inputmovehorizontal",level:3},{value:"InputMoveVertical",id:"inputmovevertical",level:3},{value:"InputLookVertical",id:"inputlookvertical",level:3},{value:"InputLookHorizontal",id:"inputlookhorizontal",level:3},{value:"UdonInputEventArgs",id:"udoninputeventargs",level:2},{value:"OnInputMethodChanged",id:"oninputmethodchanged",level:2},{value:"Unity Input Methods and Properties",id:"unity-input-methods-and-properties",level:2},{value:"Input Detection in VRChat Menus",id:"input-detection-in-vrchat-menus",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"input-events",children:"Input Events"})}),"\n",(0,o.jsx)(n.p,{children:"You can read the input of a player's controller in a unified way across all platforms by using Udon Input Events. These events will work correctly even when the player has remapped their controls."}),"\n",(0,o.jsxs)(n.p,{children:["There are currently two types of events - ",(0,o.jsx)(n.a,{href:"/worlds/udon/input-events#button-events",children:"Button"})," and ",(0,o.jsx)(n.a,{href:"/worlds/udon/input-events#axis-events",children:"Axis"}),", which include boolean and float values. Each event also holds a special ",(0,o.jsx)(n.a,{href:"/worlds/udon/input-events#UdonInputEventArgs",children:"UdonInputEventArgs "})," object. You can also use ",(0,o.jsx)(n.a,{href:"/worlds/udon/input-events#unity-input-methods-and-properties",children:"Unity input methods and properties"})," to directly read input data."]}),"\n",(0,o.jsx)(n.h2,{id:"button-events",children:"Button Events"}),"\n",(0,o.jsxs)(n.p,{children:["Button events include a ",(0,o.jsx)(n.em,{children:"bool"})," value which is ",(0,o.jsx)(n.strong,{children:"true"})," when the button is pressed and ",(0,o.jsx)(n.strong,{children:"false"})," when it is released."]}),"\n",(0,o.jsx)(n.h3,{id:"inputjump",children:"InputJump"}),"\n",(0,o.jsx)(n.p,{children:"Spacebar on Desktop, typically a face button on controllers."}),"\n",(0,o.jsx)(n.h3,{id:"inputuse",children:"InputUse"}),"\n",(0,o.jsx)(n.p,{children:"Left-Click on Desktop, typically a trigger button on controllers."}),"\n",(0,o.jsx)(n.h3,{id:"inputgrab",children:"InputGrab"}),"\n",(0,o.jsx)(n.p,{children:"Left-Click on Desktop, typically a grip button on VR controllers."}),"\n",(0,o.jsx)(n.h3,{id:"inputdrop",children:"InputDrop"}),"\n",(0,o.jsx)(n.p,{children:"Right-Click on Desktop, press grip button on Vive Wands and some Windows Mixed Reality Controllers, release grip button on others."}),"\n",(0,o.jsx)(n.h2,{id:"axis-events",children:"Axis Events"}),"\n",(0,o.jsxs)(n.p,{children:["Axis events have a ",(0,o.jsx)(n.strong,{children:"float"})," value which typically ranges between -1 and 1. When using a controller with analog sticks, a new event will be triggered for each change in value, from 0 to 0.1, then to 0.2, etc. Desktop users will output whole numbers: -1, 0, 1, etc."]}),"\n",(0,o.jsx)(n.h3,{id:"inputmovehorizontal",children:"InputMoveHorizontal"}),"\n",(0,o.jsx)(n.p,{children:"A and D on Desktop, typically the left stick/pad moving left and right on controllers."}),"\n",(0,o.jsx)(n.h3,{id:"inputmovevertical",children:"InputMoveVertical"}),"\n",(0,o.jsx)(n.p,{children:"W and S on Desktop, typically the left stick/pad moving up and down on controllers."}),"\n",(0,o.jsx)(n.h3,{id:"inputlookvertical",children:"InputLookVertical"}),"\n",(0,o.jsx)(n.p,{children:"Moving the mouse up and down on Desktop, typically the right stick up and down on gamepad and VR controllers."}),"\n",(0,o.jsx)(n.h3,{id:"inputlookhorizontal",children:"InputLookHorizontal"}),"\n",(0,o.jsx)(n.p,{children:"Moving the mouse left and right on Desktop, turning left and right using the right stick/pad without Comfort Turning on VR controllers, typically the right stick left and right on gamepad controllers."}),"\n",(0,o.jsx)(n.h2,{id:"udoninputeventargs",children:"UdonInputEventArgs"}),"\n",(0,o.jsx)(n.p,{children:"This object is included in every input event, and holds additional data for the event which may be useful. We may add more data into this object in the future, let us know if you think of something handy you'd like to reference here. For now, it includes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"UdonInputEventType"}),": BUTTON or AXIS"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"boolValue"}),": True/False if this is a button event, false if it's an axis event (default value)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"floatValue"}),": Number between -1 and 1 for an axis event, 0 if it's a button event (default value)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"handType"}),": LEFT or RIGHT. Included for keyboard and mouse users as well (mouse is RIGHT, keyboard is LEFT)."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"oninputmethodchanged",children:"OnInputMethodChanged"}),"\n",(0,o.jsxs)(n.p,{children:["This event fires whenever a user switches input methods, like from Keyboard to Mouse, Controller, or Touchscreen. It includes a ",(0,o.jsx)(n.a,{href:"/worlds/udon/graph/type-nodes/#vrcsdkbasevrcinputmethod",children:"VRCInputMethod"})," enum as its parameter."]}),"\n",(0,o.jsx)(n.admonition,{title:"Ambiguous Vive input names",type:"note",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"VRCInputMethod.Vive"})," is a Vive controller running through SteamVR."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"VRCInputMethod.ViveXr"})," is a Vive XR Elite Controller running via OpenXR."]}),"\n"]})}),"\n",(0,o.jsx)(n.h2,{id:"unity-input-methods-and-properties",children:"Unity Input Methods and Properties"}),"\n",(0,o.jsxs)(n.p,{children:["Udon can access some methods and properties from the ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.html",children:(0,o.jsx)(n.code,{children:"UnityEngine.Input"})})," namespace. They provide detailed information about user input."]}),"\n",(0,o.jsx)(n.p,{children:"The following methods and properties are available in Udon:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input-anyKey.html",children:(0,o.jsx)(n.code,{children:"Input.anyKey"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input-anyKeyDown.html",children:(0,o.jsx)(n.code,{children:"Input.anyKeyDown"})})]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input-inputString.html",children:(0,o.jsx)(n.code,{children:"Input.inputString"})})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input-imeIsSelected.html",children:(0,o.jsx)(n.code,{children:"Input.imeIsSelected"})})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetAxis.html",children:(0,o.jsx)(n.code,{children:"Input.GetAxis()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetAxisRaw.html",children:(0,o.jsx)(n.code,{children:"Input.GetAxisRaw()"})})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetButton.html",children:(0,o.jsx)(n.code,{children:"Input.GetButton()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetButtonDown.html",children:(0,o.jsx)(n.code,{children:"Input.GetButtonDown()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetButtonUp.html",children:(0,o.jsx)(n.code,{children:"Input.GetButtonUp()"})})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetMouseButton.html",children:(0,o.jsx)(n.code,{children:"Input.GetMouseButton()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetMouseButtonDown.html",children:(0,o.jsx)(n.code,{children:"Input.GetMouseButtonDown()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetMouseButtonUp.html",children:(0,o.jsx)(n.code,{children:"Input.GetMouseButtonUp()"})})]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetJoystickNames.html",children:(0,o.jsx)(n.code,{children:"Input.GetJoystickNames()"})})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetKey.html",children:(0,o.jsx)(n.code,{children:"Input.GetKey()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetKeyUp.html",children:(0,o.jsx)(n.code,{children:"Input.GetKeyUp()"})}),", ",(0,o.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/Input.GetKeyDown.html",children:(0,o.jsx)(n.code,{children:"Input.GetKeyDown()"})})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"input-detection-in-vrchat-menus",children:"Input Detection in VRChat Menus"}),"\n",(0,o.jsx)(n.p,{children:"Udon can't detect input while any of the following VRChat menus are open:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Main menu"}),"\n",(0,o.jsx)(n.li,{children:"Quick menu (Desktop or mobile only)"}),"\n",(0,o.jsx)(n.li,{children:"Text input popup"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"When you open a VRChat menu, Udon releases all held inputs, even if you continue holding them. For example:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["If you hold the arrow key and open the VRChat menu, ",(0,o.jsx)(n.code,{children:"Input.GetButtonUp()"})," returns ",(0,o.jsx)(n.code,{children:"true"})," for that key."]}),"\n",(0,o.jsxs)(n.li,{children:["If you hold the jump button and open the VRChat menu, Udon executes ",(0,o.jsx)(n.code,{children:"InputJump(false)"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["When you close a VRChat menu, Udon presses all held ",(0,o.jsx)(n.strong,{children:"Unity"})," inputs. For example:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["If you hold the right arrow key while closing the VRChat menu, ",(0,o.jsx)(n.code,{children:"Input.GetButtonDown()"})," returns ",(0,o.jsx)(n.code,{children:"true"})," for that key."]}),"\n",(0,o.jsxs)(n.li,{children:["If you hold the jump button and close the VRChat menu, Udon does ",(0,o.jsx)(n.strong,{children:"not"})," execute ",(0,o.jsx)(n.code,{children:"InputJump(true)"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);
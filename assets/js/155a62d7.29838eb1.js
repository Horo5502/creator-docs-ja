"use strict";(self.webpackChunkVRChat_Creator_Docs=self.webpackChunkVRChat_Creator_Docs||[]).push([[2948],{19816:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"worlds/udon/udonsharp/performance-tips","title":"Performance Tips","description":"This page contains a few tips on how to improve the performance of your UdonSharp scripts.","source":"@site/docs/worlds/udon/udonsharp/performance-tips.md","sourceDirName":"worlds/udon/udonsharp","slug":"/worlds/udon/udonsharp/performance-tips","permalink":"/creator-docs_ja/worlds/udon/udonsharp/performance-tips","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1736307645000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Editor Scripting","permalink":"/creator-docs_ja/worlds/udon/udonsharp/editorscripting"},"next":{"title":"Player API","permalink":"/creator-docs_ja/worlds/udon/players/"}}');var t=o(74848),s=o(28453);const a={},i="Performance Tips",d={},l=[{value:"UdonSharp is slower than C#",id:"udonsharp-is-slower-than-c",level:2},{value:"Use <code>private</code> methods",id:"use-private-methods",level:2},{value:"Don&#39;t use <code>GetComponent&lt;T&gt;</code> frequently",id:"dont-use-getcomponentt-frequently",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"performance-tips",children:"Performance Tips"})}),"\n",(0,t.jsx)(n.p,{children:"This page contains a few tips on how to improve the performance of your UdonSharp scripts."}),"\n",(0,t.jsx)(n.h2,{id:"udonsharp-is-slower-than-c",children:"UdonSharp is slower than C#"}),"\n",(0,t.jsx)(n.p,{children:"Udon can take about 200x to 1000x longer to run a piece of code than the equivalent in normal C#, depending on what you're doing."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Avoid massive complex algorithms that iterate over thousands of elements."}),"\n",(0,t.jsxs)(n.li,{children:["Avoid iterating over very long arrays every frame.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Consider "time-slicing" your array by only processing only a limited amount of array elements per frame.'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Use native Unity components or VRChat SDK components whenever possible.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"For example: Instead of rotating 40 GameObjects in Udon, use an animation."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Cache method results to improve performance.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For example: Instead of getting ",(0,t.jsx)(n.a,{href:"https://docs.unity3d.com/ScriptReference/GameObject-transform.html",children:(0,t.jsx)(n.code,{children:"GameObject.transform"})})," or ",(0,t.jsx)(n.a,{href:"/worlds/udon/players/getting-players/#networkingget-localplayer",children:(0,t.jsx)(n.code,{children:"Networking.LocalPlayer"})})," every frame, use the ",(0,t.jsx)(n.code,{children:"Start()"})," event to save them as variables and reuse them later."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"use-private-methods",children:["Use ",(0,t.jsx)(n.code,{children:"private"})," methods"]}),"\n",(0,t.jsxs)(n.p,{children:["You should mark methods as ",(0,t.jsx)(n.code,{children:"private"})," if they are not being called from other scripts. Due to how Udon searches for methods to call, the fewer public methods you have, the better the performance of your custom events."]}),"\n",(0,t.jsx)(n.p,{children:"Calls across behaviours are slower than local method calls. If you can, keep similar behavior in one UdonSharpBehaviour rather than separating it into different behaviours."}),"\n",(0,t.jsxs)(n.p,{children:["Don't forget that in order to send a ",(0,t.jsx)(n.a,{href:"/worlds/udon/graph/special-nodes#udonbehaviour-nodes",children:"CustomNetworkEvent"}),", the target method must be ",(0,t.jsx)(n.code,{children:"public"}),". If it is not public, it will not fire. Additionally, any methods that start with an underscore such as ",(0,t.jsx)(n.code,{children:"_MyLocalMethod"})," will not receive network events."]}),"\n",(0,t.jsxs)(n.h2,{id:"dont-use-getcomponentt-frequently",children:["Don't use ",(0,t.jsx)(n.code,{children:"GetComponent<T>"})," frequently"]}),"\n",(0,t.jsxs)(n.p,{children:["You should only use ",(0,t.jsx)(n.code,{children:"GetComponent<T>"})," in the ",(0,t.jsx)(n.code,{children:"Start()"})," event or event that happen that don't happen frequently."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"GetComponent<T>()"})," is slow, especially when retrieving an UdonSharpBehaviour type in Udon. That's because UdonSharp needs to insert a loop that checks all UdonBehaviours to make sure they're the correct UdonSharpBehaviour type."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>i});var r=o(96540);const t={},s=r.createContext(t);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);
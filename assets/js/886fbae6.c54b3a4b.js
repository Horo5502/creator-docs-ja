"use strict";(self.webpackChunkVRChat_Creator_Docs=self.webpackChunkVRChat_Creator_Docs||[]).push([[5861],{28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>i});var a=r(96540);const l={},t=a.createContext(l);function s(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),a.createElement(t.Provider,{value:n},e.children)}},41616:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"worlds/udon/players/index","title":"Player API","description":"You can use Udon to retrieve information about players in your world instance.","source":"@site/docs/worlds/udon/players/index.md","sourceDirName":"worlds/udon/players","slug":"/worlds/udon/players/","permalink":"/creator-docs_ja/worlds/udon/players/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1726763074000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Performance Tips","permalink":"/creator-docs_ja/worlds/udon/udonsharp/performance-tips"},"next":{"title":"Getting Players","permalink":"/creator-docs_ja/worlds/udon/players/getting-players"}}');var l=r(74848),t=r(28453),s=r(65537),i=r(79329);const o={sidebar_position:1},d="Player API",c={},u=[{value:"Generally Useful Properties and Methods",id:"generally-useful-properties-and-methods",level:2},{value:"IsValid",id:"isvalid",level:3},{value:"EnablePickups",id:"enablepickups",level:3},{value:"get displayName",id:"get-displayname",level:3},{value:"Get isLocal",id:"get-islocal",level:3},{value:"Get isMaster",id:"get-ismaster",level:3},{value:"Get isInstanceOwner",id:"get-isinstanceowner",level:3},{value:"Get isSuspended",id:"get-issuspended",level:3},{value:"GetPickupInHand",id:"getpickupinhand",level:3},{value:"IsOwner",id:"isowner",level:3},{value:"IsUserInVR",id:"isuserinvr",level:3},{value:"PlayHapticEventInHand",id:"playhapticeventinhand",level:3},{value:"UseAttachedStation",id:"useattachedstation",level:3},{value:"SimulationTime",id:"simulationtime",level:3},{value:"UseLegacyLocomotion",id:"uselegacylocomotion",level:3},{value:"Language",id:"language",level:2},{value:"GetCurrentLanguage",id:"getcurrentlanguage",level:3},{value:"GetAvailableLanguages",id:"getavailablelanguages",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"player-api",children:"Player API"})}),"\n",(0,l.jsx)(n.p,{children:"You can use Udon to retrieve information about players in your world instance."}),"\n",(0,l.jsx)(n.p,{children:"Udon interacts with Players through the VRCPlayerApi. Each Player has a VRCPlayerApi Object, and your world fires the OnPlayerJoined / OnPlayerLeft events on any UdonBehaviours that listen for them when a player joins or leaves."}),"\n",(0,l.jsx)(n.p,{children:"This page includes info on using some general player properties and methods. Since there are so many things you can do with the VRCPlayerApi object, we grouped some information together on the following pages:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/players/getting-players",children:"Getting Players"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/players/player-positions",children:"Player Positions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/players/player-forces",children:"Player Forces"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/players/player-collisions",children:"Player Collisions"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/players/player-audio",children:"Player Audio"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/players/player-avatar-scaling",children:"Player Avatar Scaling"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/worlds/udon/graph/event-nodes#player-events",children:"Player Events"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"generally-useful-properties-and-methods",children:"Generally Useful Properties and Methods"}),"\n",(0,l.jsx)(n.h3,{id:"isvalid",children:"IsValid"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"VRCPlayerApi, Boolean"})}),"\n",(0,l.jsx)(n.p,{children:'Before you try to get or set anything on a Player, check whether IsValid returns true. If a player has left since you saved a reference to them, this will return False. For easier use on the graph, search for the generic "IsValid" method which works for any Object, since it gives you separate flows for True and False.'}),"\n","\n",(0,l.jsxs)(s.A,{groupId:"udon-compiler-language",children:[(0,l.jsx)(i.A,{value:"graph",label:"Udon Graph",children:(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"An Udon Graph screenshot showing the OnPlayerLeft event connected to an IsValid node.",src:r(80328).A+"",width:"1387",height:"282"})})}),(0,l.jsx)(i.A,{value:"cs",label:"UdonSharp",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cs",children:"   public override void OnPlayerLeft(VRCPlayerApi player)  \r\n   {  \r\n\tif (Utilities.IsValid(player))\r\n\t{\r\n\t\t// Player is valid\r\n\t}\r\n\telse\r\n\t{\r\n\t\t// Player is not valid\r\n\t}\r\n}  \n"})})})]}),"\n",(0,l.jsx)(n.h3,{id:"enablepickups",children:"EnablePickups"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"VRCPlayerApi, Boolean"})}),"\n",(0,l.jsxs)(n.p,{children:["Turn off the Player's ability to pickup and use VRCPickup objects in the world. This property is ",(0,l.jsx)(n.em,{children:"on"})," by default, so you only need to use the method if you want to turn it off."]}),"\n",(0,l.jsx)(n.h3,{id:"get-displayname",children:"get displayName"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"VRCPlayerApi"})}),"\n",(0,l.jsx)(n.p,{children:"Get the name displayed for the Player (can be different than Username, which is used to log into VRChat and not exposed publicly)"}),"\n",(0,l.jsx)(n.h3,{id:"get-islocal",children:"Get isLocal"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"Boolean"})]}),"\n",(0,l.jsx)(n.p,{children:"Tells you whether the given Player is the local one."}),"\n",(0,l.jsx)(n.h3,{id:"get-ismaster",children:"Get isMaster"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"Boolean"})]}),"\n",(0,l.jsxs)(n.p,{children:["Tells you whether the given Player is the ",(0,l.jsx)(n.a,{href:"/worlds/udon/networking#the-instance-master",children:"instance master"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"get-isinstanceowner",children:"Get isInstanceOwner"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"Boolean"})]}),"\n",(0,l.jsx)(n.p,{children:"Tells you whether the given player is the current instance owner."}),"\n",(0,l.jsx)(n.h3,{id:"get-issuspended",children:"Get isSuspended"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"Boolean"})]}),"\n",(0,l.jsx)(n.p,{children:"Tells you if the player's device is suspended. A device is suspended if it enters sleep mode or switches to a different app. While suspended, devices don't run Udon code or respond to network events until the player reopens VRChat."}),"\n",(0,l.jsx)(n.p,{children:"Your code should account for any device becoming suspended at any time, regardless of platform. PC players currently never become suspended, but this should not be assumed."}),"\n",(0,l.jsxs)(n.p,{children:["Note that ",(0,l.jsx)(n.code,{children:"isSuspended"})," is always ",(0,l.jsx)(n.code,{children:"false"})," for the local player - Udon cannot run while the local player is suspended."]}),"\n",(0,l.jsx)(n.h3,{id:"getpickupinhand",children:"GetPickupInHand"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi, Hand (none, left, right)"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"VRCPickup"})]}),"\n",(0,l.jsx)(n.p,{children:"Gets the pickup a Player is holding in the specified hand. Only works for the Local Player. Returns null if no VRCPickup is found."}),"\n",(0,l.jsx)(n.h3,{id:"isowner",children:"IsOwner"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi, GameObject"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"Boolean"})]}),"\n",(0,l.jsx)(n.p,{children:"Tells you whether a Player is the Owner of a given GameObject, important for Sync."}),"\n",(0,l.jsx)(n.h3,{id:"isuserinvr",children:"IsUserInVR"}),"\n",(0,l.jsxs)(n.p,{children:["in: ",(0,l.jsx)(n.em,{children:"VRCPlayerApi"})]}),"\n",(0,l.jsxs)(n.p,{children:["out: ",(0,l.jsx)(n.em,{children:"Boolean"})]}),"\n",(0,l.jsx)(n.p,{children:"Tells you whether a Player is using a VR headset."}),"\n",(0,l.jsx)(n.h3,{id:"playhapticeventinhand",children:"PlayHapticEventInHand"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"VRCPlayerApi, Hand, float, float, float"})}),"\n",(0,l.jsxs)(n.p,{children:["Vibrate the Player's Haptic controllers if they have them. The float inputs should be in the range 0-1. ",(0,l.jsx)(n.em,{children:"duration"})," is the amount of time that they vibrate, ",(0,l.jsx)(n.em,{children:"amplitude"})," is the strength with which they vibrate, and ",(0,l.jsx)(n.em,{children:"frequency"})," is the speed at which they vibrate. The feeling can vary quite a bit between controllers."]}),"\n",(0,l.jsx)(n.h3,{id:"useattachedstation",children:"UseAttachedStation"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"VRCPlayerApi"})}),"\n",(0,l.jsx)(n.p,{children:"Makes the player get into the Station which is on the same GameObject as this UdonBehaviour."}),"\n",(0,l.jsx)(n.h3,{id:"simulationtime",children:"SimulationTime"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"float"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.a,{href:"/worlds/udon/networking/network-components",children:"simulation time"})," of a player."]}),"\n",(0,l.jsx)(n.h3,{id:"uselegacylocomotion",children:"UseLegacyLocomotion"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"VRCPlayerApi"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"NOT RECOMMENDED"})," - Turns on legacy locomotion for this player, mimicking how players moved in VRChat's deprecated SDK2. After enabling legacy locomotion, it stays enabled until the user leaves your world."]}),"\n",(0,l.jsx)(n.h2,{id:"language",children:"Language"}),"\n",(0,l.jsx)(n.h3,{id:"getcurrentlanguage",children:"GetCurrentLanguage"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"string"})}),"\n",(0,l.jsxs)(n.p,{children:["Gets the selected language of the local user. The value is formatted in the RFC 5646 syntax. (",(0,l.jsx)(n.code,{children:"en"}),", ",(0,l.jsx)(n.code,{children:"ja"}),", ",(0,l.jsx)(n.code,{children:"es"}),", ",(0,l.jsx)(n.code,{children:"zh-CN"}),", etc.)"]}),"\n",(0,l.jsx)(n.h3,{id:"getavailablelanguages",children:"GetAvailableLanguages"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.em,{children:"string[]"})}),"\n",(0,l.jsxs)(n.p,{children:["Gets all available languages a player can select in VRChat's settings. The value is formatted in the RFC 5646 syntax. (",(0,l.jsx)(n.code,{children:"en"}),", ",(0,l.jsx)(n.code,{children:"ja"}),", ",(0,l.jsx)(n.code,{children:"es"}),", ",(0,l.jsx)(n.code,{children:"zh-CN"}),", etc.)"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},65537:(e,n,r)=>{r.d(n,{A:()=>w});var a=r(96540),l=r(18215),t=r(65627),s=r(56347),i=r(50372),o=r(30604),d=r(11861),c=r(78749);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,a.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:r,attributes:a,default:l}}=e;return{value:n,label:r,attributes:a,default:l}}))}(r);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function y(e){let{queryString:n=!1,groupId:r}=e;const l=(0,s.W6)(),t=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,o.aZ)(t),(0,a.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(l.location.search);n.set(t,e),l.replace({...l.location,search:n.toString()})}),[t,l])]}function m(e){const{defaultValue:n,queryString:r=!1,groupId:l}=e,t=h(e),[s,o]=(0,a.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const a=r.find((e=>e.default))??r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:t}))),[d,u]=y({queryString:r,groupId:l}),[m,x]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[l,t]=(0,c.Dv)(r);return[l,(0,a.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:l}),j=(()=>{const e=d??m;return p({value:e,tabValues:t})?e:null})();(0,i.A)((()=>{j&&o(j)}),[j]);return{selectedValue:s,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),x(e)}),[u,x,t]),tabValues:t}}var x=r(9136);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=r(74848);function g(e){let{className:n,block:r,selectedValue:a,selectValue:s,tabValues:i}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),c=e=>{const n=e.currentTarget,r=o.indexOf(n),l=i[r].value;l!==a&&(d(n),s(l))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":r},n),children:i.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:a===n?0:-1,"aria-selected":a===n,ref:e=>{o.push(e)},onKeyDown:u,onClick:c,...t,className:(0,l.A)("tabs__item",j.tabItem,t?.className,{"tabs__item--active":a===n}),children:r??n},n)}))})}function v(e){let{lazy:n,children:r,selectedValue:t}=e;const s=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===t));return e?(0,a.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function b(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,l.A)("tabs-container",j.tabList),children:[(0,f.jsx)(g,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,f.jsx)(b,{...e,children:u(e.children)},String(n))}},79329:(e,n,r)=>{r.d(n,{A:()=>s});r(96540);var a=r(18215);const l={tabItem:"tabItem_Ymn6"};var t=r(74848);function s(e){let{children:n,hidden:r,className:s}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,a.A)(l.tabItem,s),hidden:r,children:n})}},80328:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/player-isvalid-1c4412c3d1394cb8fa5832a830083392.png"}}]);